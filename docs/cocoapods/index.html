<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cocoapods/Cocoapods">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<link rel="alternate" type="application/rss+xml" href="/KMMBridge/blog/rss.xml" title="KMMBridge RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/KMMBridge/blog/atom.xml" title="KMMBridge Atom Feed"><title data-rh="true">Cocoapods | KMMBridge</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://touchlab.github.io/KMMBridge//KMMBridge/docs/cocoapods/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cocoapods | KMMBridge"><meta data-rh="true" name="description" content="Basic Configuration"><meta data-rh="true" property="og:description" content="Basic Configuration"><link data-rh="true" rel="icon" href="/KMMBridge/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://touchlab.github.io/KMMBridge//KMMBridge/docs/cocoapods/"><link data-rh="true" rel="alternate" href="https://touchlab.github.io/KMMBridge//KMMBridge/docs/cocoapods/" hreflang="en"><link data-rh="true" rel="alternate" href="https://touchlab.github.io/KMMBridge//KMMBridge/docs/cocoapods/" hreflang="x-default"><link rel="stylesheet" href="/KMMBridge/assets/css/styles.5195d9b1.css">
<link rel="preload" href="/KMMBridge/assets/js/runtime~main.3fb8cb47.js" as="script">
<link rel="preload" href="/KMMBridge/assets/js/main.1bf58062.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/KMMBridge/"><div class="navbar__logo"><img src="/KMMBridge/img/Touchlab_Gradient.png" alt="Touchlab Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/KMMBridge/img/Touchlab_Gradient.png" alt="Touchlab Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title text--truncate">KMMBridge</b></a><a class="navbar__item navbar__link navbar__link--active" href="/KMMBridge/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/KMMBridge/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://touchlab.co/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Touchlab Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/touchlab" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/KMMBridge/docs/category/general-documentation">General Documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;General Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/KMMBridge/docs/intro">KMMBridge Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/KMMBridge/docs/category/swift-package-manager-spm">Swift Package Manager (SPM)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Swift Package Manager (SPM)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/KMMBridge/docs/category/cocoapods">CocoaPods</a><button aria-label="Toggle the collapsible sidebar category &#x27;CocoaPods&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KMMBridge/docs/cocoapods/COCOAPODS_GITHUB_PODSPEC">Publishing Podspecs to GitHub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/KMMBridge/docs/cocoapods/">Cocoapods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KMMBridge/docs/cocoapods/IOS_COCOAPODS">Using Cocoapods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/KMMBridge/docs/cocoapods/IOS_LOCAL_DEV_COCOAPODS">Cocoapods Local Dev Flow</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/KMMBridge/docs/category/artifact-managers">Artifact Managers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Artifact Managers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/KMMBridge/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/KMMBridge/docs/category/cocoapods"><span itemprop="name">CocoaPods</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cocoapods</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cocoapods</h1></header><h2 class="anchor anchorWithStickyNavbar_mojV" id="basic-configuration">Basic Configuration<a class="hash-link" href="#basic-configuration" title="Direct link to heading">​</a></h2><p>Add the sonatype snapshots repo where the plugin currently lives</p><div class="language-kotlin codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-kotlin codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token comment" style="color:#808080">// settings.gradle.kts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">pluginManagement </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    repositories </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token operator" style="color:#a9b7c6">..</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        </span><span class="token function" style="color:#ffc66d">maven</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;https://oss.sonatype.org/content/repositories/snapshots&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token punctuation" style="color:#c8d0de">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Add the Faktory plugin to your project, in the same module where the Kotlin cocoapods plugin is configured.</p><div class="language-kotlin codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-kotlin codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token comment" style="color:#808080">// build.gradle.kts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">plugins </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token function" style="color:#ffc66d">kotlin</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;multiplatform&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token function" style="color:#ffc66d">kotlin</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;native.cocoapods&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token function" style="color:#ffc66d">id</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;co.touchlab.faktory.kmmbridge&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"> version </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;0.2.2-SNAPSHOT&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now configure Faktory for cocoapods</p><div class="language-kotlin codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-kotlin codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">kmmbridge </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token function" style="color:#ffc66d">cocoapods</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal singleline string" style="color:#6a8759">&quot;git@github.com:your-org/Podspecs.git&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You&#x27;ll need to provide a url to your own spec repo to host the podspec. For more on spec repos, see
the <a href="https://guides.cocoapods.org/making/private-cocoapods.html" target="_blank" rel="noopener noreferrer">cocoapods documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="publishing-a-new-version">Publishing a new version<a class="hash-link" href="#publishing-a-new-version" title="Direct link to heading">​</a></h2><p>To publish a new version, use the <code>kmmBridgePublish</code> gradle task.
This will take care of uploading a new binary to your artifact storage, as well as uploading the podspec to the designated
spec repo so the library can be consumed from non-Kotlin-aware iOS projects.</p><p>The Podspec will be generated based on the same configuration used by the kotlin.cocoapods plugin, except that
the <code>source</code> and <code>version</code> will be overridden by the KMMBridge plugin.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="version-numbering">Version numbering<a class="hash-link" href="#version-numbering" title="Direct link to heading">​</a></h3><p>The KMMBridge plugin does some automated version management in order to ensure that new library versions are published
with a consistently increasing version number. A base version is set either in the <code>cocoapods</code> block or directly on the
gradle project, as managed by the kotlin.cocoapods plugin.</p><div class="language-kotlin codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-kotlin codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">version </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;1.2&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#808080">// This will be used second, if not set in cocoapods block</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">kotlin </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    cocoapods </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        version </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;1.2&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#808080">// This will be used first, if present</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token punctuation" style="color:#c8d0de">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When publishing a new cocoapod, Faktory will append a timestamp to this version to ensure a unique and increasing
version number. This will result in a published version like <code>1.2.1663779589077</code>. To maintain semver compatibility, you
should set the base version using only a major and minor version (1.2, rather than 1.2.3) so that the timestamp piece
becomes the patch version.</p><p>To consume this from your iOS project without needing to manually update versions, you can use
cocoapods <a href="https://guides.cocoapods.org/using/the-podfile.html#specifying-pod-versions" target="_blank" rel="noopener noreferrer">optimistic version operator</a> as
follows:</p><div class="language-ruby codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-ruby codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">pod </span><span class="token string-literal string" style="color:#6a8759">&#x27;MyShared&#x27;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:#6a8759">&#x27;~&gt; 1.2&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you first run a <code>pod install</code> with this line in your <code>Podfile</code>, Cocoapods will use the most recent version
matching <code>1.2.x</code> and generate a <code>Podfile.lock</code> file. The next time you run <code>pod install</code> it will read the version from
that lock file until the version in the <code>Podfile</code> changes. When you publish a new <code>1.2.x</code> version, you can update the
lock file by running <code>pod update</code>.</p><p>Configuring things in this way makes it easier to manage integrating changes from shared code into the iOS project. If a
breaking change happens in the Kotlin code, you can publish it without impacting the iOS project until you
run <code>pod update</code> when you&#x27;re ready to incorporate the iOS-side changes.</p><p>If you prefer instead to always set an exact version, you can check the spec repo for the most recent published version
and set it manually.</p><div class="language-ruby codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-ruby codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">pod </span><span class="token string-literal string" style="color:#6a8759">&#x27;MyShared&#x27;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:#6a8759">&#x27;1.2.1663779589077&#x27;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="local-development">Local Development<a class="hash-link" href="#local-development" title="Direct link to heading">​</a></h2><p>While Faktory allows fast and easy builds on iOS using pre-built binaries, if you are doing work in the shared code, you
will want to be able to test your changes on iOS rather than using the pre-built binaries. To support this without
making <code>Podfile</code> changes which might accidentally get committed to source control, we recommend using an environment
variable to point to your local version.</p><p>You can use the variable in your <code>Podfile</code> as follows:</p><div class="language-ruby codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-ruby codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">target </span><span class="token string-literal string" style="color:#6a8759">&#x27;MyApp&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token keyword" style="color:#cc7832">if</span><span class="token plain"> </span><span class="token constant" style="color:#9876aa">ENV</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token keyword" style="color:#cc7832">include</span><span class="token operator" style="color:#a9b7c6">?</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token string-literal string" style="color:#6a8759">&quot;LOCAL_KOTLIN_PATH&quot;</span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    pod </span><span class="token string-literal string" style="color:#6a8759">&#x27;MyShared&#x27;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"> </span><span class="token symbol" style="color:#6897bb">:path</span><span class="token plain"> </span><span class="token operator" style="color:#a9b7c6">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#9876aa">ENV</span><span class="token punctuation" style="color:#c8d0de">[</span><span class="token string-literal string" style="color:#6a8759">&quot;LOCAL_KOTLIN_PATH&quot;</span><span class="token punctuation" style="color:#c8d0de">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token keyword" style="color:#cc7832">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    pod </span><span class="token string-literal string" style="color:#6a8759">&#x27;MyShared&#x27;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"> </span><span class="token string-literal string" style="color:#6a8759">&#x27;~&gt; 1.2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">  </span><span class="token keyword" style="color:#cc7832">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token keyword" style="color:#cc7832">end</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and setting it before running <code>pod install</code></p><div class="language-sh codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-sh codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">export LOCAL_KOTLIN_PATH=&quot;path/to/cloned/MyShared&quot;</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">pod install</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and revert to using the remote:</p><div class="language-sh codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-sh codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">unset LOCAL_KOTLIN_PATH</span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">pod install</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When pointing to a local version like this you will, of course, need the shared code cloned in the location specified
and you will need the appropriate environment set up for building KMP</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="uploading-to-a-custom-s3-bucket">Uploading to a custom S3 bucket<a class="hash-link" href="#uploading-to-a-custom-s3-bucket" title="Direct link to heading">​</a></h2><p>By default, the Faktory plugin uploads binaries through Touchlab&#x27;s servers. As an alternative, you can provide your own
Amazon S3 bucket to use instead.</p><div class="language-kotlin codeBlockContainer_MPoW theme-code-block" style="--prism-background-color:#2b2b2b;--prism-color:#c8d0de"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-kotlin codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#c8d0de"><span class="token plain">faktory </span><span class="token punctuation" style="color:#c8d0de">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token comment" style="color:#808080">// faktoryReadKey.set(&quot;0123456789ABCDEF&quot;) // This is no longer necessary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token operator" style="color:#a9b7c6">..</span><span class="token punctuation" style="color:#c8d0de">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token function" style="color:#ffc66d">s3Public</span><span class="token punctuation" style="color:#c8d0de">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        region </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;us-east-2&quot;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        bucket </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;my-s3-bucket&quot;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        accessKeyId </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;0123456789ABCDEF&quot;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        secretAccessKey </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#6a8759">&quot;0123456789ABCDEF&quot;</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        makeArtifactsPublic </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token boolean" style="color:#cc7832">true</span><span class="token punctuation" style="color:#c8d0de">,</span><span class="token plain"> </span><span class="token comment" style="color:#808080">// Set this always to true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">        altBaseUrl </span><span class="token operator" style="color:#a9b7c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#cc7832">null</span><span class="token plain"> </span><span class="token comment" style="color:#808080">// Set this always to null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain">    </span><span class="token punctuation" style="color:#c8d0de">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#c8d0de"><span class="token plain"></span><span class="token punctuation" style="color:#c8d0de">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the current version of the plugin, the bucket must be configured for public access. This may change in the future, so
if private S3 access is important to you, let us know! </p><p>To configure an access key, go to
the <a href="https://console.aws.amazon.com/iam/home#/security_credentials" target="_blank" rel="noopener noreferrer">AWS IAM management console</a> and click &quot;Create access
key&quot;. The &quot;Access key ID&quot; and &quot;Secret access key&quot; fields correspond to <code>accessKeyId</code> and <code>secretAccessKey</code> in the
Faktory configuration.</p><p>These keys are only used when uploading a new binary, so you may want to read them from environment variables or some
other source that&#x27;s not checked into the project rather than committing them into the gradle file.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/touchlab/KMMBridge/tree/main/website/docs/cocoapods/Cocoapods.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-10-09T17:19:32.000Z">10/9/2022</time></b> by <b>Kevin Galligan</b></span></div></div></footer></article></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-configuration" class="table-of-contents__link toc-highlight">Basic Configuration</a></li><li><a href="#publishing-a-new-version" class="table-of-contents__link toc-highlight">Publishing a new version</a><ul><li><a href="#version-numbering" class="table-of-contents__link toc-highlight">Version numbering</a></li></ul></li><li><a href="#local-development" class="table-of-contents__link toc-highlight">Local Development</a></li><li><a href="#uploading-to-a-custom-s3-bucket" class="table-of-contents__link toc-highlight">Uploading to a custom S3 bucket</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Touchlab</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://touchlab.co/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/touchlab" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/TouchlabHQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/KMMBridge/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/touchlab" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Touchlab</div></div></div></footer></div>
<script src="/KMMBridge/assets/js/runtime~main.3fb8cb47.js"></script>
<script src="/KMMBridge/assets/js/main.1bf58062.js"></script>
</body>
</html>